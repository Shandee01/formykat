<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Envelope Note</title>
  <link href="https://fonts.googleapis.com/css2?family=Sofia&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <style>
    * { padding: 0; margin: 0; box-sizing: border-box }
    html, body { height: 100% }

    body {
      width: 100%;
      background: #000;
      font-size: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .scissors {
      cursor: url("https://i.postimg.cc/GtLCdKxR/sisors.png"), pointer
    }

    .scissors:active {
      cursor: url("https://i.postimg.cc/GtXQ7WPZ/pngwing-com.png"), pointer
    }

    .cursor { cursor: pointer }

    .envelop {
      width: 15rem;
      height: 10rem;
      position: absolute;
      left: 0;
      right: 0;
      margin: auto;
    }

    .envelop__front-paper,
    .envelop__back-paper,
    .envelop__up-paper,
    .envelop__content {
      position: absolute;
      width: 100%;
      height: 100%;
      bottom: 0;
      left: 0;
    }

    .envelop__front-paper {
      border-radius: 0.7rem;
      border: 0.35rem solid #967b5c;
      background: #ba9872;
      clip-path: polygon(100% 0%, 50% 70%, 0% 0%, 0% 100%, 100% 100%);
      z-index: 300;
    }

    .envelop__back-paper {
      border-radius: 0.7rem;
      background: #967b5c;
      clip-path: polygon(0% 0%, 100% 0%, 90% 100%, 0% 90%);
      z-index: 100;
    }

    .envelop__up-paper {
      border-radius: 0.7rem;
      background: #967b5c;
      z-index: 400;
      clip-path: polygon(0% 0%, 100% 0%, 50% 81%);
    }

    .envelop__sticker,
    .envelop__false-sticker {
      width: 100%;
      height: 20%;
      position: absolute;
      margin: auto;
      top: 30%;
      left: 0;
      bottom: 0;
      right: 0;
      z-index: 400;
      background: #f9f9f9;
      border: 0.3rem solid #e2e2e2;
      background-image: url("https://www.freepnglogos.com/uploads/heart-png/emoji-heart-33.png");
      background-size: 2rem;
      background-position: center;
      background-repeat: no-repeat;
    }

    .envelop__false-sticker {
      width: 20%;
      left: 80%;
      z-index: 300;
    }

    .envelop__content {
      z-index: 200;
    }

    .love-notes {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .note {
      width: 95%;
      height: 30%;
      background: #f9f9f9;
      position: absolute;
      overflow: hidden;
      transition: height 0.5s, opacity 0.25s;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.75);
      display: flex;
      flex-direction: column;
    }

    .note:nth-child(1) { bottom: 60% }
    .note:nth-child(2) { bottom: 40% }
    .note:nth-child(3) { bottom: 20% }

    .note:hover {
      cursor: pointer;
      height: 45%;
    }

    .note__text {
      font-family: sans-serif;
      padding: 1rem;
      overflow-y: auto;
      max-height: 100%;
    }

    .note__text p {
      text-align: center;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .note__text .cursive {
      font-family: "Sofia", cursive;
    }

    @media (max-width: 400px) {
      .envelop__sticker,
      .envelop__false-sticker {
        background-size: 1.2rem;
      }
    }

    @media (min-width: 400px) and (max-width: 600px) {
      .envelop {
        width: 20rem;
        height: 15rem;
      }

      .note__text p {
        font-size: 1.025rem;
      }
    }

    @media (min-width: 600px) {
      .envelop {
        width: 25rem;
        height: 20rem;
      }

      .envelop__sticker,
      .envelop__false-sticker {
        height: 15%;
      }

      .note__text p {
        font-size: 1.15rem;
      }
    }

    @media (min-width: 600px) and (min-height: 600px) {
      .envelop {
        bottom: 20%;
      }
    }

    @media (max-height: 500px) {
      body {
        margin: 25% 0;
      }
    }
  </style>
</head>
<body class="scissors">
  <div class="envelop">
    <div class="envelop__front-paper"></div>
    <div class="envelop__back-paper"></div>
    <div class="envelop__up-paper js-up-paper"></div>
    <div class="envelop__sticker js-sticker"></div>
    <div class="envelop__false-sticker"></div>
    <div class="envelop__content js-envelop-content">
      <div class="love-notes">
        <div class="note js-note">
          <div class="note__text">
            <p>HI LOVE KO, I KNOW TODAY WOULD BE SO TIRING FOR YOU BUT THAT’S OKAY AND I HOPE NA MAGING MAGANDA ANG ARAW MO TODAY AND SAFE KAYO PALAGI. I ALWAYS HOPE NA EVERYTHING AY MAG WENT WELL BECAUSE ALL I WANT FOR YOU IS MAGING HAPPY PALAGI DAHIL MASAYA DIN AKO KAPAG MASAYA KA.<br><br><br></p>
          </div>
        </div>
        <div class="note js-note">
          <div class="note__text">
            <p>AND ANYWAYS, I APPRECIATE YOU SO MUCH DEAR KO. I APPRECIATE HOW YOU ALWAYS MADE ME FEEL LOVED, AND I LOVE HOW THOUGHTFUL YOU ARE. SOBRANG NAAAPRECIATE KO YUNG BINIGAY MONG COOKIES LAST TIME IT WAS SO SARAPPPP GADDDANGGG!!! THANK YOU FOR MAKING ME FEEL HAPPY PALAGI EVEN THO WALA KA DITO SA TABI KO. I APPRECIATE YOU A LOT BABY HUHU. I’M SO GRATEFUL TO HAVE YOU AS MY LOVER AND I DON’T WANT ANYONE ELSE BUT YOU. I REALLY AM GRATEFUL THAT I’M SHARING THE SAME UNIVERSE AS YOU, EXISTING IN THE SAME TIMELINE AS YOU, AND I’M SO GLAD THAT OUR PATHS CROSSED, IT FEELS LIKE A GIFT FROM HEAVEN,<br>I DONT KNOW WHAT I DID TO DESEVER YOU KAYA IM FOREVER GRATEFUL TO HAVE YOU AND I CANT BELIEVE I AM LOVING<BR> THE MOST BEAUTIFUL<BR>GIRL IN EXISTENCE!!!<br><br><br></p>
          </div>
        </div>
        <div class="note js-note">
          <div class="note__text">
            <p>MAHAL NA MAHAL KITA DEAR KO, PLS LET ME ADMIRE YOU MY PRETTY KAT. SAYANG NAMAN YANG GANDA MO KUNG HINDI MO IPAPAKITA SAKIN DIBA HEHE. PLEASE KNOW HOW BEAUTIFUL YOU ARE. I SEE NOTHING WRONG WITH YOU AND I WISH THAT YOU COULD SEE HOW PERFECT YOU ARE TO ME. HINDI MO KAILANGANG MAG ALALA KUNG ANO PANG ITSURA MO IRL OR PICS — MAHAL KITA KAT. MAHAL KO LAHAT NG FEATURES MO AND I HOPE YOU KNOW NA GUSTONG GUSTO KITA.</p>
            <p><span class="cursive">I LOVE YOU FOREVER <br> MY DEAREST KAT ♥<br><br><br><br><br></span></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const mobile = window.matchMedia("(max-width: 400px)");
    const tablet = window.matchMedia("(min-width: 400px) and (max-width: 600px)");
    const notes = document.querySelectorAll(".js-note");

    function recize_notes() {
      notes.forEach(n => {
        if (n.classList.contains("active")) {
          n.classList.remove("active");
          gsap.set(n, { height: "30%", clearProps: "all" });
        }
      });
    }

    function notes_ready() {
      gsap.to(".js-envelop-content", { height: "110%", duration: 0.5 });
      notes.forEach((note, i) => {
        note.addEventListener("click", function () {
          if (note.classList.contains("active")) {
            note.classList.remove("active");
            gsap.set(note, { height: "30%", clearProps: "all" });
          } else {
            notes.forEach(n => {
              n.classList.remove("active");
              gsap.set(n, { height: "30%", clearProps: "all" });
            });
            note.classList.add("active");
            let h = mobile.matches ? 125 + 40 * i : tablet.matches ? 80 + 21 * i : 70 + 20 * i;
            gsap.set(note, { height: h + "%" });
          }
        });
      });
    }

    function set_up_paper() {
      gsap.set(".js-up-paper", {
        bottom: "97%", rotation: 180, zIndex: 200,
        clipPath: "polygon(0% 0%, 100% 0%, 50% 61%)",
        onComplete: notes_ready
      });
    }

    function envelop_transition() {
      gsap.to(".js-up-paper", { bottom: "1%", duration: 0.25, onComplete: set_up_paper });
      document.querySelector(".js-up-paper").removeEventListener("click", envelop_transition);
      document.querySelector(".js-up-paper").classList.remove("cursor");
    }

    function sticker() {
      gsap.set(".js-sticker", { width: "20%", left: "-80%" });
      document.body.classList.remove("scissors");
      document.querySelector(".js-sticker").removeEventListener("click", sticker);
      document.querySelector(".js-up-paper").addEventListener("click", envelop_transition);
      document.querySelector(".js-up-paper").classList.add("cursor");
    }

    document.querySelector(".js-sticker").addEventListener("click", sticker);
    window.onresize = () => recize_notes();
  </script>
</body>
</html>